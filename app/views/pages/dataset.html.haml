/ only if you need custom infoboxes
%div{:style => "width: 1800px;"}
  #map{:style => "width: 1800px; height: 800px;"}

%table{:border => 1}
  %tr
    %td id
    %td area
    %td region
    %td ni_p50
    %td ox_p50
    %td ph_p50
    %td ts_p50
    %td lat
    %td lng
  - @qualities.each do |q|
    %tr
      %td
        = q.id
      %td
        = q.area
      %td
        = q.region
      %td
        = q.ni_p50
      %td
        = q.ox_p50
      %td
        = q.ph_p50
      %td
        = q.ts_p50
      %td
        = q.latitude
      %td
        = q.longitude

:javascript
  $( document ).ready(function() {
    handler = Gmaps.build('Google');
    handler.buildMap({ provider: {}, internal: {id: 'map'}}, function(){
      //markers = handler.addMarkers(#{raw @hash.to_json});
      markers = handler.addMarkers(#{raw @hash.to_json});
      handler.bounds.extendWith(markers);
      handler.fitMapToBounds();
    });
  });